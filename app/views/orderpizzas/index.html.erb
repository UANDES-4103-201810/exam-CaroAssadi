<p id="notice"><%= notice %></p>

<h1>Shopping cart</h1>

<table>
  <thead>
    <tr>
      <th>Payment</th>
      <th colspan="3"></th>
      <th>Pizza</th>
      <th colspan="3"></th>
      <th>Customer id</th>
      <th colspan="3"></th>
      <th>Recipe:</th>
    </tr>
  </thead>

  <tbody>
    <% @orderpizzas.each do |orderpizza| %>
      <tr>
        <td><%= orderpizza.payment %></td>
        <th colspan="3"></th>
        <td><%= link_to orderpizza.pizza.name, pizza_path(orderpizza.pizza) %></td>
        <th colspan="3"></th>
        <td><%= orderpizza.order.customer_id %></td>
        <th colspan="3"></th>
        <% link_to orderpizza.pizza.recipe_id, recipes_path%>
        <th colspan="3"></th>
        <td><%= link_to 'Show', orderpizza %></td>
        <td><%= link_to 'Destroy', orderpizza, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<button id="myBtn" data-toggle="modal" class= "btn btn-success" data-target="#myModal<%=@pizza %>">Buy</button>

<!-- The Modal -->
<div id="myModal<%=@pizza %>" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <span class="close">&times;</span>
      <h2>Buy</h2>
    </div>
    <div class="modal-body">
      <%= form_for Deliveryinfo.new do |f|%>

        <%= f.hidden_field :order_id, :value => 1 %>
        <%= f.label :address1 %>
        <%= f.text_field :address1 %>
        <%= f.label :address2 %>
        <%= f.text_field :address2 %>
        <%= f.label :phone %>
        <%= f.number_field :phone %>

        </div>
        <div class="modal-footer">
          <%= f.submit "Confirm", class: "btn btn-primary"%>
      <% end %>
      </div>
      <div class="modal-footer">
        <h3></h3>
      </div>
      </div>

</div>

<br>

<%= link_to 'New Orderpizza', new_orderpizza_path %>
